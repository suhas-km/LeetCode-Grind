make two passes, first in-order, second in-reverse, to compute products
â€‹
